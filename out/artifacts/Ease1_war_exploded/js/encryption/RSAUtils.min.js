function setServerPublicKey(e){e=(e="-----BEGIN PUBLIC KEY-----\n"+e).substring(0,91)+"\n"+e.substring(91,155)+"\n"+e.substring(155,219)+"\n"+e.substring(219,e.length)+"\n-----END PUBLIC KEY-----",serverRSAEncryption.setKey(e)}function decipher(e){return RSAEncryption.decrypt(e)}function cipher(e){return serverRSAEncryption.encrypt(e)}var RSAEncryption=new JSEncrypt({default_key_size:1024}),serverRSAEncryption=new JSEncrypt({default_key_size:1024});window.addEventListener("load",function(){var e=new XMLHttpRequest;e.open("GET","/api/v1/common/GetServerKey?public_key="+RSAEncryption.getPublicKeyB64(),!1),e.send(),200===e.status&&setServerPublicKey(JSON.parse(e.responseText).server_public_key)});