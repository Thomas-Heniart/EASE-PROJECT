extension.runtime.bckgrndOnMessage("sendToChildFrame",function(e,n,s){console.log("send message to child frame"),extension.tabs.sendMessage(n,"toChildFrame",e,function(e){e&&(console.log("response receive, send response to parent:"),s(e))});var o=extension.runtime.bckgrndOnMessage("haveFrames",function(){extension.runtime.removeListener(o),extension.tabs.sendMessage(n,"toChildFrame",e,function(e){console.log("response receive, send response to parent."),s(e)})})}),extension.runtime.onMessage("sendToParentFrame",function(e,n,s){extension.tabs.sendMessage(n,"toParentFrame",e,function(e){s(e)})});