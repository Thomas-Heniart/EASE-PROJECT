/**
 * crisp-client - Simple customer service built for startups.
 * @version v2.5.0
 * @author Crisp IM, Inc. https://crisp.chat/
 * @date 7/3/2017
 */
(function(){var t=!1;try{var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};new(function(){function t(){var t=this,_="constructor";try{this.ns="CrispLoader",this.__console={warn:function(){},error:function(){},info:function(){},log:function(){},debug:function(){}},this.__project_name="crisp-client",this.__host_assets="client.crisp.chat",this.__host_relay="client.relay.crisp.chat",this.__host_email="mail.crisp.chat",this.__client_revision="8ac3fc7",this.__client_environment="production",this.__protocol="https:",this.__url_website="https://crisp.chat",this.__url_go="https://go.crisp.chat",this.__url_image="https://image.crisp.chat",this.__url_game="https://game.crisp.chat",this.__url_relay=this.__protocol+"//"+this.__host_relay,this.__url_assets=this.__protocol+"//"+this.__host_assets,this.__rtc_ice=[{urls:"stun:stun.crisp.chat:3478"}],this.__path_javascripts="static/javascripts",this.__path_stylesheets="static/stylesheets",this.__dollar_crisp="$crisp",this.__check_every=100,this.__check_timeout=3e4,this.__width_threshold=280,this.__initialize_fired=!1,this.__call_width_minimum=1020,this.__call_height_minimum=640,this.__website_domain=document.domain,this.__page_url=document.location.href,this.__browser_useragent=window.navigator.userAgent,this.__browser_timezone=(new Date).getTimezoneOffset(),this.__browser_capabilities=[],this.__browser_locales=navigator.languages?navigator.languages:[navigator.language||navigator.userLanguage],this.__loader_script_regex=/(?:http\:|https\:)?\/\/[^\/]+\/l\/([a-zA-Z0-9\-_]+)\.js/i,"string"==typeof CRISP_WEBSITE_ID?this.__website_id=CRISP_WEBSITE_ID:this.__website_id=this.__detect_website_id_from_dom(),"string"==typeof CRISP_TOKEN_ID?this.__token_id=CRISP_TOKEN_ID:this.__token_id=null,"function"==typeof CRISP_READY_TRIGGER?this.__ready_trigger=CRISP_READY_TRIGGER:this.__ready_trigger={},"object"===("undefined"==typeof CRISP_RUNTIME_CONFIG?"undefined":e(CRISP_RUNTIME_CONFIG))?this.__runtime_configuration=CRISP_RUNTIME_CONFIG:this.__runtime_configuration={},"object"===("undefined"==typeof CRISP_INCLUDE_ATTRS?"undefined":e(CRISP_INCLUDE_ATTRS))?this.__include_attrs=CRISP_INCLUDE_ATTRS:this.__include_attrs={},this.__apply_detected_capabilities(),this.__apply_primary_locale();var i=document.onreadystatechange||function(){};window.WebSocket&&("interactive"===document.readyState||"complete"===document.readyState?this.init():document.onreadystatechange=function(){"function"==typeof i&&i(),"interactive"!==document.readyState&&"complete"!==document.readyState||t.init()},"undefined"!=typeof window[this.__dollar_crisp]&&"function"==typeof window[this.__dollar_crisp].__init||this.__include_client())}catch(t){this.__console.error(this.ns+"."+_,t)}}return t.prototype.init=function(){var t=this,e="init";try{if(this.__website_id&&this.__initialize_fired!==!0)if(this.__initialize_fired=!0,window.innerWidth&&window.innerWidth<this.__width_threshold);else if(navigator.cookieEnabled!==!0);else{var _=document.createElement("div");_.id="crisp-323",document.getElementsByTagName("body")[0].appendChild(_);var i=function(){var t=window.getComputedStyle(_).getPropertyValue("display");return"none"===t},r=function r(){setTimeout(function(){t.__check_timeout-=t.__check_every,"undefined"!=typeof window[t.__dollar_crisp]&&"function"==typeof window[t.__dollar_crisp].__init&&i()===!0?(t.__console.info(t.ns+"."+e,"Dependencies loaded"),document.body.removeChild(_),window[t.__dollar_crisp].__init({dollar_crisp:window[t.__dollar_crisp],project_name:t.__project_name,host_email:t.__host_email,url_go:t.__url_go,url_image:t.__url_image,url_game:t.__url_game,url_relay:t.__url_relay,url_website:t.__url_website,url_assets:t.__url_assets,rtc_ice:t.__rtc_ice,client_environment:t.__client_environment,client_revision:t.__client_revision,website_domain:t.__website_domain,website_id:t.__website_id,token_id:t.__token_id,page_url:t.__page_url,browser_useragent:t.__browser_useragent,browser_timezone:t.__browser_timezone,browser_capabilities:t.__browser_capabilities,browser_locales:t.__browser_locales,ready_trigger:t.__ready_trigger,runtime_configuration:t.__runtime_configuration})):t.__check_timeout>0?r():t.__console.error(t.ns+"."+e,"Could not load dependencies")},t.__check_every)};r()}}catch(t){this.__console.error(this.ns+"."+e,t)}},t.prototype.__include_client=function(){var t="__include_client";try{this.__include_preconnect(this.__url_relay),this.__include_preconnect(this.__url_assets),this.__include_preconnect(this.__url_image),this.__include_client_javascripts(),this.__include_client_stylesheets()}catch(e){this.__console.error(this.ns+"."+t,e)}},t.prototype.__include_preconnect=function(t){var e="__include_preconnect";try{var _=document.createElement("link");_.setAttribute("href",t),_.setAttribute("rel","preconnect"),_.setAttribute("crossorigin",""),this.__apply_include_attrs(_),document.getElementsByTagName("head")[0].appendChild(_)}catch(t){this.__console.error(this.ns+"."+e,t)}},t.prototype.__include_client_javascripts=function(){var t="__include_client_javascripts";try{var e=document.createElement("script");e.src=[this.__url_assets+"/",this.__path_javascripts+"/","client.js?"+this.__client_revision].join(""),e.type="text/javascript",e.async=1,this.__apply_include_attrs(e),document.getElementsByTagName("head")[0].appendChild(e)}catch(e){this.__console.error(this.ns+"."+t,e)}},t.prototype.__include_client_stylesheets=function(){var t="__include_client_stylesheets";try{var e=this.__detect_include_mode(),_=document.createElement("link");_.href=[this.__url_assets+"/",this.__path_stylesheets+"/","client_"+e+".css?"+this.__client_revision].join(""),_.type="text/css",_.rel="stylesheet",this.__apply_include_attrs(_),document.getElementsByTagName("head")[0].appendChild(_)}catch(e){this.__console.error(this.ns+"."+t,e)}},t.prototype.__apply_detected_capabilities=function(){var t="__apply_detected_capabilities";try{"undefined"!=typeof window.MutationObserver&&this.__browser_capabilities.push("browsing"),"undefined"!=typeof window.RTCPeerConnection&&"https:"===document.location.protocol&&(window.innerWidth||0)>=this.__call_width_minimum&&(window.innerHeight||0)>=this.__call_height_minimum&&this.__browser_capabilities.push("call")}catch(e){this.__console.error(this.ns+"."+t,e)}},t.prototype.__apply_primary_locale=function(){var t="__apply_primary_locale";try{if(this.__runtime_configuration.locale){var e=this.__browser_locales.indexOf(this.__runtime_configuration.locale);e!==-1&&this.__browser_locales.splice(e,1),this.__browser_locales.unshift(this.__runtime_configuration.locale)}}catch(e){this.__console.error(this.ns+"."+t,e)}},t.prototype.__apply_include_attrs=function(t){var e="__apply_include_attrs";try{for(var _ in this.__include_attrs)this.__include_attrs.hasOwnProperty(_)&&t.setAttribute(_,this.__include_attrs[_])}catch(t){this.__console.error(this.ns+"."+e,t)}},t.prototype.__detect_website_id_from_dom=function(){var t="__detect_website_id_from_dom",e=null;try{for(var _=document.querySelectorAll("script[src]"),i=0;i<_.length;i++){var r=this.__loader_script_regex.exec(_[i].src);if(r&&"string"==typeof r[1]){e=r[1];break}}}catch(e){this.__console.error(this.ns+"."+t,e)}finally{return e}},t.prototype.__detect_include_mode=function(){var t="__detect_include_mode",e="default";try{var _=(navigator.userAgent||"").toLowerCase(),i=(navigator.appVersion||"").toLowerCase(),r=((navigator.vendor||"").toLowerCase(),!1);if(r!==!0&&(_.indexOf("msie")===-1&&i.indexOf("trident/")===-1||(r=!0)),r!==!0&&_.indexOf("edge")!==-1&&(r=!0),r!==!0){var n=_.match(/chrom(e|ium)\/([0-9\.]+)/);if(n){var s=29;parseInt(n[2],10)<=s&&(r=!0)}}if(r!==!0){var o=_.match(/firefox\/([0-9\.]+)/);if(o){var c=46;parseInt(o[1],10)<=c&&(r=!0)}}if(r!==!0){var a=_.match(/version\/([0-9\.]+)( mobile\/([^\s]+))? safari\//);if(a){var l=9;parseInt(a[1],10)<=l&&(r=!0)}}if(r!==!0){var h=_.match(/android ([0-9\.]+)/);if(h){var d=6;parseInt(h[1],10)<d&&(r=!0)}}r!==!0&&_.indexOf("opera mini/")!==-1&&(r=!0),r===!0&&(e="legacy")}catch(e){this.__console.error(this.ns+"."+t,e)}finally{return e}},t}())}catch(e){if(t===!0)throw e}})();