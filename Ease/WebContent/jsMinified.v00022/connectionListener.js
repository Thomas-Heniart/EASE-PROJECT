function checkForms(){setTimeout(function(){equalArrays(document.forms,allForms)||listenToForms(),checkForms()},500)}function equalArrays(e,t){if(t.length!=e.length)return!1;for(var n=0,o=t.length;o>n;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!t[n].equals(e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function listenToForms(){for(var e=0;e<document.forms.length;e++){for(var t=!0,n=0;n<allForms.length;n++)if(equalArrays(document.forms[e],allForms[n])){t=!1;break}t&&(listenToSubmit(document.forms[e]),listenToClick(document.forms[e]),allForms.push(document.forms[e]))}}function listenToSubmit(e){e.addEventListener("submit",function(e){e.target.getElementsByTagName("input");checkFields(e.target.getElementsByTagName("input"))})}function listenToClick(e){for(var t=e.getElementsByTagName("button"),n=0;n<t.length;n++)t[n].addEventListener("click",function(){checkFields(e.getElementsByTagName("input"))});for(var o=e.getElementsByTagName("input"),r=[],i=0;i<o.length;i++)"submit"==o[i].type&&r.push(o[i]);for(var s=0;s<r.length;s++)r[s].addEventListener("click",function(){checkFields(e.getElementsByTagName("input"))})}function checkFields(e){for(var t=!1,n=!1,o=0;o<e.length;o++){if(validateEmail(e[o].value)){n=!0;var r=e[o].value}if("password"==e[o].type){t=!0;var i=e[o].value}if(n&&t){extensionLight.runtime.sendMessage("newConnectionToRandomWebsite",{website:window.location.host,username:r,password:i},function(){});break}}}function validateEmail(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}if(window===window.top){var allForms=[];listenToForms(),checkForms()}