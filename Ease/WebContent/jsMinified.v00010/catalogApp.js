var currentDraggedApp,catalogApp=function(t,a,s,o,i,e,r,n,c){var l=this;this.qRoot=$('<div class="catalogApp"><div class="catalogAppLogo"><img src="/resources/websites/HostelWorld/logo.png"><a href="http://www.hostelworld.com/" target="_blank" class="siteUrl"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-link fa-rotate-90"></i></span></a><span class="fa-stack fa-lg apps-integrated'+(c>0?" show":"")+' "><i class="fa fa-circle fa-stack-2x"></i><i class="count">'+c+'</i></span><span class="newCatalogApp">New!</span></div><div class="catalogAppName"><p>HostelWorld</p></div></div>'),this.name=t,this.id=a,this.imgSrc=s,this.canLoginWith=o,this.ssoId=i,this.url=e,this.inputs=r,this.isNew=n,this.count=c,this.nameHandler=this.qRoot.find(".catalogAppName p"),this.imageHandler=this.qRoot.find(".catalogAppLogo img"),this.urlHandler=this.qRoot.find(".siteUrl"),this.nameHandler.text(l.name),this.imageHandler.attr("src",l.imgSrc),this.urlHandler.attr("href",l.url),this.isNew||l.qRoot.find(".newCatalogApp").remove(),this.qRoot.attr("idx",l.id),this.qRoot.attr("data-login",l.canLoginWith),this.qRoot.attr("data-sso",l.ssoId),this.qRoot.attr("name",l.name),this.qRoot.attr("url",l.url),this.qRoot.attr("newapp",l.isNew),this.qRoot.draggable({cursor:"move",cursorAt:{left:25,top:25},appendTo:"body",helper:function(t,a){var s;s=$('<div class="dragHelperLogo" style="position: fixed; z-index: 3;pointer-events:none;"/>'),s.attr("type","catalog"),s.append($("<img />"));for(var o in l.qRoot.attr())if(l.qRoot.attr().hasOwnProperty(o))switch(o){case"class":case"style":break;default:s.attr(o,l.qRoot.attr()[o])}return s.find("img").attr("src",l.imgSrc),currentDraggedApp=l,s}}),this.increaseCount=function(){l.count=l.count+1,$(".apps-integrated .count",l.qRoot).text(l.count),$(".apps-integrated",l.qRoot).addClass("show")},this.decreaseCount=function(){l.count=l.count-1,$(".apps-integrated .count",l.qRoot).text(l.count),l.count<=0&&$(".apps-integrated",l.qRoot).removeClass("show")}};