deleteProfilePopup=function(e){var o=this;this.qRoot=$(e),this.parentHandler=this.qRoot.closest("#easePopupsHandler"),this.errorRowHandler=this.qRoot.find(".errorHandler"),this.passwordInputHander=this.qRoot.find("input[name='password']"),this.formHandler=this.qRoot.find("#deleteProfileForm"),this.submitButton=this.qRoot.find("button[type='submit']"),this.goBackButtonHandler=this.qRoot.find("#goBack"),this.goBackButtonHandler.click(function(){o.close()}),this.passwordInputHander.on("input",function(){$(this).val().length?o.submitButton.removeClass("locked"):o.submitButton.addClass("locked")}),this.formHandler.submit(function(e){e.preventDefault(),o.passwordInputHander.val().length&&(o.errorRowHandler.removeClass("show"),o.submitButton.addClass("loading"),postHandler.post("RemoveProfile",{profileId:o.currentProfile.id,password:o.passwordInputHander.val()},function(){o.submitButton.removeClass("loading")},function(e){easeTracker.trackEvent("DeleteProfile"),o.currentProfile.remove(),o.close()},function(e){o.errorRowHandler.find("p").text(e),o.errorRowHandler.addClass("show")},"text"))}),this.currentProfile=null,this.resetPasswordShows=function(){o.qRoot.find("input[name='password']").attr("type","password"),o.qRoot.find(".showPassDiv.show").removeClass("show")},this.reset=function(){o.passwordInputHander.val(""),o.resetPasswordShows(),o.submitButton.addClass("locked"),o.errorRowHandler.removeClass("show")},this.open=function(e){currentEasePopup=o,o.reset(),o.currentProfile=e,o.parentHandler.addClass("myshow"),o.qRoot.addClass("show")},this.close=function(){o.qRoot.removeClass("show"),o.parentHandler.removeClass("myshow")}};var easeDeleteProfilePopup;$(document).ready(function(){easeDeleteProfilePopup=new deleteProfilePopup($("#deleteProfilePopup"))});