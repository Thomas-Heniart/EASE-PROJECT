var webSocketClient=new function(){var e=this;this.webSocketServerConnectionUrl=document.location.toString().indexOf("localhost")>-1?"localhost:8443":"ease.space",this.socket=null,this.keepAlive=function(){(void 0===e.socket.readyState||e.socket.readyState>1)&&(console.log("webSocket connection lost, trying to reconnect..."),e.socket=new WebSocket("wss://"+e.webSocketServerConnectionUrl+"/webSocketServer"),e.socket.onopen=e.onOpen,e.socket.onmessage=e.onMessage,e.socket.onerror=e.onError,e.socket.onclose=e.onClose)},this.initialize=function(){console.log("connection to webSocket server."),e.socket=new WebSocket("wss://"+e.webSocketServerConnectionUrl+"/webSocketServer"),e.socket.onopen=e.onOpen,e.socket.onmessage=e.onMessage,e.socket.onerror=e.onError,e.socket.onclose=e.onClose,setInterval(e.keepAlive,3e4)},this.onOpen=function(e){console.log("connection to webSocket server initialized.")},this.onError=function(e){console.log("webSocketClient encountered an error."),console.log("connection to webSocket server closed.")},this.onClose=function(e){console.log("connection to webSocket server closed.")},this.onMessage=function(e){var o=JSON.parse(e.data);console.log(o.type),console.log(o.data)}};window.addEventListener("load",webSocketClient.initialize);