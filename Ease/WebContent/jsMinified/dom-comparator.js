var VWO=window.VWO||{};!function(){function stripNodes(e){for(var t=e.replace(/(?:\r\n|\r|\n)/g,""),n="",i=(t=t.replace(/\>\s+\</g,"><")).length,r=0;r<i;){if('"'==t[r])for(n+=t[r];;){if(r+=1,'"'==t[r]){n+=t[r];break}if(r+1<i&&"'"==t[r+1])n+=t[r],n+="\\";else if(" "!=t[r])n+=t[r];else if(-1==t[r+1].search(/[^A-Z0-9a-z\s]/)){n+=t[r];continue}}else r+1<i&&"'"==t[r+1]?(n+=t[r],n+="\\"):n+=t[r];r+=1}return n}var $=window.vwo_$||window.$,_=window.vwo__||window._,VWO=window.VWOInjected||window.VWO||{};VWO.DOMComparator=function(e){VWO.DOMNodePool.clear(),$.extend(!0,this,e),this.nodeA&&(this.elA=this.nodeA.el),this.nodeB&&(this.elB=this.nodeB.el);var t,n=this.elA.length,i=this.elB.length;for(t=0;t<n;t++)this.elA[t].data&&(this.elA.splice(t,1),t--,n--);for(t=0;t<i;t++)this.elB[t].data&&(this.elB.splice(t,1),t--,i--);var r=stripNodes($(this.elA).outerHTML()),o=stripNodes($(this.elB).outerHTML());this.nodeA=VWO.DOMNodePool.create({el:$("<him id='DOMComparisonResult'>"+r+"</him>").get(0)}),this.nodeB=VWO.DOMNodePool.create({el:$("<him id='DOMComparisonResult'>"+o+"</him>").get(0)}),this.elAClone=$("<him id='DOMComparisonResult'>"+r+"</him>").get(0)},VWO.DOMComparator.create=function(e){return new VWO.DOMComparator(e)},VWO.DOMComparator.prototype={elA:null,elB:null,nodeA:null,nodeB:null,analyzeMatches:function(){var e=VWO.DOMMatchFinder.create({nodeA:this.nodeA,nodeB:this.nodeB}).compare().matches,t=this.nodeA.descendants(),n=this.nodeB.descendants();for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=VWO.DOMNodeComparator.create({nodeA:t[i],nodeB:n[r]});o.finalScore()&&(t[i].matchedWith=n[r],n[r].matchedWith=t[i],n[r].matchScore=o.finalScore(),n[r].matchDifference=o.difference())}},detectInserts:function(){var e=this.nodeB.descendants(),t=[];return _(e).each(function(e,n){var i;if(!e.matchedWith&&(!e.parent()||e.parent().matchedWith)){for(null,i=e;(i=i.nextSibling())&&!i.matchedWith;);var r=e.copy();i&&i.matchedWith?i.matchedWith.parent().addChildAt(r,e.index()):e.parent().matchedWith.addChild(r);var o=r.parent().selectorPath(),s=r.index();r.isInserted=!0,t.push({name:"insertNode",selectorPath:null,content:{html:r.outerHTML(),parentSelectorPath:o,indexInParent:s,existsInDOM:!0}})}}),t},detectTextNodeChanges:function(){var e=this.nodeA.descendants(),t=[];return _(e).each(function(e,n){if(e.matchedWith&&1!==e.matchedWith.matchScore){var i=e.matchedWith.matchDifference;if(e.nodeType()!==Node.ELEMENT_NODE&&i.newInnerText){var r=e.parent().selectorPath(),o=e.index();t.push({name:"change"+(e.nodeType()===Node.TEXT_NODE?"Text":"Comment"),selectorPath:null,content:{text:i.newInnerText,parentSelectorPath:r,indexInParent:o}}),e.el.textContent=i.newInnerText}}}),t},detectAttributeChanges:function(){var e=this.nodeA.descendants(),t=[];return _(e).each(function(e,n){if(e.matchedWith&&1!==e.matchedWith.matchScore){var i,r=e.matchedWith.matchDifference,o=$.extend({},r.addedAttributes,r.changedAttributes);_(o).keys().length&&(i={},_(o).each(function(t,n){i[n]=e.$().attr(n)}),e.$().attr(o),t.push({name:"attr",selectorPath:e.selectorPath(),content:o}));var s=r.removedAttributes;_(s).keys().length&&(i={},_(s).each(function(t,n){i[n]=e.$().attr(n),e.$().removeAttr(n)}),t.push({name:"removeAttr",selectorPath:e.selectorPath(),content:r.removedAttributes}))}}),VWO.DOMNodePool.uncacheAll(),VWO.DOMNodePool.cacheAll(),t},detectStyleChanges:function(){var e=this.nodeA.descendants(),t=[];return _(e).each(function(e,n){if(e.matchedWith&&1!==e.matchedWith.matchScore){var i,r=e.matchedWith.matchDifference,o=$.extend({},r.addedStyles,r.changedStyles);_(o).keys().length&&(i={},_(o).each(function(t,n){i[n]=e.$().css(n)}),e.$().css(o),t.push({name:"css",selectorPath:e.selectorPath(),content:o}));var s=r.removedStyles;_(s).keys().length&&(i={},_(s).each(function(t,n){i[n]=e.$().css(n),e.$().css(n,"")}),_(s).each(function(t){e.$().css(t,"")}),t.push({name:"removeCss",selectorPath:e.selectorPath(),content:s}))}}),VWO.DOMNodePool.uncacheAll(),VWO.DOMNodePool.cacheAll(),t},detectRearranges:function(){var e=this.nodeA.descendants(),t=[];return _(e).each(function(e,n){var i,r;if(e.matchedWith&&(!e.parent()||!e.parent().matchedWith||e.parent().matchedWith!==e.matchedWith.parent()||e.index()!==e.matchedWith.index())&&(e.parent()||e.matchedWith.parent())){i=null;var o=e.parent().selectorPath(),s=e.index();for(r=e.matchedWith;(r=r.nextSibling())&&!r.matchedWith;);if(r&&r.matchedWith)(i=r.matchedWith).parent().addChildAt(e,i.index());else{var a=e.matchedWith.parent();(i=a.matchedWith?a.matchedWith:a).addChild(e)}var h=e.parent().selectorPath(),d=e.index();t.push({name:"rearrange",selectorPath:null,content:{parentSelectorPath:h,indexInParent:d,oldParentSelectorPath:o,oldIndexInParent:s,existsInDOM:!0}}),VWO.DOMNodePool.uncacheAll(),VWO.DOMNodePool.cacheAll()}}),t},detectRemoves:function(){var e=this.nodeA.descendants(),t=[];return _(e).each(function(e,n){if(!e.matchedWith&&!e.isInserted&&(!e.parent()||e.parent().matchedWith)){var i=e.parent().selectorPath(),r=e.index();e.parent().removeChild(e),t.push({name:"deleteNode",selectorPath:null,content:{html:e.outerHTML(),parentSelectorPath:i,indexInParent:r,existsInDOM:!1}})}}),t},detectRemovesInB:function(){var e=this.nodeB.descendants(),t=[];return _(e).each(function(e,n){if(!e.matchedWith&&!e.isInserted&&(!e.parent()||e.parent().matchedWith)){var i=e.parent().selectorPath(),r=e.index();e.parent().removeChild(e),t.push({name:"deleteNodeInB",selectorPath:null,content:{html:e.outerHTML(),node:e,parentSelectorPath:i,indexInParent:r,existsInDOM:!1}})}}),VWO.DOMNodePool.uncacheAll(),VWO.DOMNodePool.cacheAll(),t},verifyComparison:function(){return console.log("comparison successful: "+this.nodeA.equals(this.nodeB)),this.nodeA.equals(this.nodeB)},compare:function(){function getActualIndex(e,t){var n=VWO.DOMNode.create({el:self.nodeB.el.parentNode.querySelector(e)});if(t<0)return-1;var i=n.children()[t];return Array.prototype.slice.apply(n.el.childNodes).indexOf(i.el)}var self=this;this.analyzeMatches();var final_results=[],result1=[this.detectRemovesInB(),this.detectRearranges()];VWO.DOMNodePool.uncacheAll(),VWO.DOMNodePool.cacheAll(),result1=_(result1).flatten();for(var output=[],index,path,html,text,val,attr,css,index1,index2,path1,path2,l=result1.length,i=l-1;i>=0;i--){var op=result1[i];if("deleteNodeInB"==op.name){index=getActualIndex(op.content.parentSelectorPath,op.content.indexInParent-1),path=op.content.parentSelectorPath.split("DOMComparisonResult > ")[1],path||(path=op.content.parentSelectorPath),html=op.content.html,output[i]=-1==index?"$("+JSON.stringify(path)+").prepend("+JSON.stringify(html)+");":"$($("+JSON.stringify(path)+").get(0).childNodes["+index+"]).after("+JSON.stringify(html)+");";var ctx=self.nodeB.el,$=function(e){return"HIM#DOMComparisonResult"==e?jQuery(ctx):jQuery(e,ctx)};eval(output[i])}else final_results.push(result1[i])}VWO.DOMNodePool.uncacheAll(),VWO.DOMNodePool.cacheAll();var result=[this.detectInserts(),this.detectRemoves(),this.detectTextNodeChanges(),this.detectAttributeChanges(),this.detectStyleChanges()];result=_(result).flatten();var le=result.length;for(i=0;i<le;i++)final_results.push(result[i]);return console.log(final_results),this.verifyComparison(),result.toJqueryCode=function toJqueryCode(){function getActualIndex(e,t){var n=VWO.DOMNode.create({el:self.elAClone.parentNode.querySelector(e)});if(t<0)return-1;var i=n.children()[t];return Array.prototype.slice.apply(n.el.childNodes).indexOf(i.el)}for(var output=[],index,path,html,text,val,attr,css,index1,index2,path1,path2,i=0,l=this.length;i<l;i++){var op=this[i];switch(op.name){case"insertNode":index=getActualIndex(op.content.parentSelectorPath,op.content.indexInParent-1),path=op.content.parentSelectorPath.split("DOMComparisonResult > ")[1],html=op.content.html,output[i]=-1==index?"$("+JSON.stringify(path)+").append("+JSON.stringify(html)+");":"$($("+JSON.stringify(path)+").get(0).childNodes["+index+"]).after("+JSON.stringify(html)+");";break;case"rearrange":index1=getActualIndex(op.content.parentSelectorPath,op.content.indexInParent-1),index2=getActualIndex(op.content.oldParentSelectorPath,op.content.oldIndexInParent),path1=op.content.parentSelectorPath.split("DOMComparisonResult > ")[1],path2=op.content.oldParentSelectorPath.split("DOMComparisonResult > ")[1];var node="$("+path2+").get(0).childNodes["+index2+"]";output[i]=-1==index1?"$("+JSON.stringify(path1)+").append("+node+");":"$($("+JSON.stringify(path1)+").get(0).childNodes["+index1+"]).after("+node+");";case"deleteNode":index=getActualIndex(op.content.parentSelectorPath,op.content.indexInParent),path=op.content.parentSelectorPath.split("DOMComparisonResult > ")[1],html=op.content.html,output[i]="$($("+JSON.stringify(path)+").get(0).childNodes["+index+"]).remove();";break;case"changeText":case"changeComment":index=getActualIndex(op.content.parentSelectorPath,op.content.indexInParent),path=op.content.parentSelectorPath.split("DOMComparisonResult > ")[1],text=op.content.text,output[i]="$($("+JSON.stringify(path)+").get(0).childNodes["+index+"]).remove();";var ctx=self.elAClone,$=function(e){return jQuery(e,ctx)};eval(output[i]),output[i]="$("+JSON.stringify(path)+").append("+JSON.stringify(text)+");";break;case"attr":case"css":path=op.selectorPath.split("DOMComparisonResult > ")[1],val=op.content,output[i]="$("+JSON.stringify(path)+")."+op.name+"("+JSON.stringify(val)+");";break;case"removeAttr":path=op.selectorPath.split("DOMComparisonResult > ")[1],attr=Object.keys(op.content),output[i]="$("+JSON.stringify(path)+")"+attr.map(function(e){return".removeAttr("+JSON.stringify(e)+")"}).join("")+";";break;case"removeCss":path=op.selectorPath.split("DOMComparisonResult > ")[1],css=Object.keys(op.content),output[i]="$("+JSON.stringify(path)+")"+css.map(function(e){return".css("+JSON.stringify(e)+', "")'}).join("")+";"}var ctx=self.elAClone,$=function(e){return jQuery(e,ctx)};eval(output[i])}return self.elAClone},final_results}}}();var VWO=window.VWO||{};!function(){var e=window.vwo_$||window.$,t=window.vwo__||window._,n=window.VWOInjected||window.VWO||{};n.DOMMatchFinder=function(t){e.extend(!0,this,t)},n.DOMMatchFinder.create=function(e){return new n.DOMMatchFinder(e)},n.DOMMatchFinder.prototype={nodeA:null,nodeB:null,matches:null,stringA:function(){return this.nodeA.outerHTML().replace(/\r\n|\r|\n/gi,"\n")},stringB:function(){return this.nodeB.outerHTML().replace(/\r\n|\r|\n/gi,"\n")},compare:function(){function i(e,t){for(var n=[],i=e.indexOf(t);-1!==i;i=e.indexOf(t,i+1))n.push(i);return n}var r,o=this.stringA(),s=this.stringB(),a=this.stringA(),h=this.stringB(),d=o.length,l=s.length,c=0,u="",f="";for(r=0;r<d;r++)r+3<d&&"<"==o[r]&&"!"==o[r+1]&&"-"==o[r+2]&&"-"==o[r+3]?(c=1,r+=3):r+2<d&&1==c&&"-"==o[r]&&"-"==o[r+1]&&">"==o[r+2]?(c=0,r+=2):0==c&&(u+=o[r]);for(c=0,r=0;r<l;r++)r+3<l&&"<"==s[r]&&"!"==s[r+1]&&"-"==s[r+2]&&"-"==s[r+3]?(c=1,r+=3):r+2<l&&1==c&&"-"==s[r]&&"-"==s[r+1]&&">"==s[r+2]?(c=0,r+=2):0==c&&(f+=s[r]);var p=function(e){return e<10?" "+e:e.toString()},g=0,x=0,m=n.StringComparator.create({stringA:u,stringB:f,matchA:{},matchB:{},couA:0,couB:0,ignoreA:[],ignoreB:[],splitOn:"\n"}).compare(),O=m.diffUnion,v={},N=m.stringsInA,A=m.stringsInB;for(r=0;r<m.stringsUnchanged.length;r++){var y=m.stringsUnchanged[r],S=y.indexInA,I=y.indexInB,w=n.DOMNodeStringPointer.create({haystack:(S>0?"\n":"")+N[S]+(S<N.length-1?"\n":"")}).allNodePointers(),b=N.slice(0,S).join("\n").length-1,M=A.slice(0,I).join("\n").length-1;b=b.clamp(0),M=M.clamp(0);for(var T=0,D=w.length;T<D;T++){var C,W;ve=T+1<D&&w[T+1].index-w[T].index==1?0:"\n".length,C=n.DOMNodeStringPointer.create({index:b+w[T].index+ve,haystack:u}),W=n.DOMNodeStringPointer.create({index:M+w[T].index+ve,haystack:f}),v[C.masterIndex()]=W.masterIndex()}}var P={},E=[];for(r=0;r<O.length;r++)if(diff=O[r],diff.indexInA>=0&&diff.indexInB>=0&&(E=[]),diff.indexInA<0&&E.push(diff),diff.indexInB<0){if(!E.length)continue;var _=diff.string,B=E[0].string;S=diff.indexInA,I=E[0].indexInB;var k,$=[],V=[],L=u.length,j=f.length,R=1,p=0;for($[0]=0,r=0;r<L;r++)(k=u[r].charCodeAt(0))>47&&k<58||k>64&&k<91||k>96&&k<123||32==k||95==k?p&&($[R]=r,R+=1,p=0):p=1;for(g=R,p=0,R=1,V[0]=0,r=0;r<j;r++)(k=f[r].charCodeAt(0))>47&&k<58||k>64&&k<91||k>96&&k<123||32==k||95==k?p&&(V[R]=r,R+=1,p=0):p=1;x=R;var H,J,U,F=this.nodeB,q=F.children().length,X=[],z=0,Q=function(e,t){if(0!=e){var n;for(n=0;n<e;n++)Q(t.children()[n].children().length,t.children()[n])}else{if(J=t.el.outerHTML,J?U=u.indexOf(J):(J=t.el.nodeValue,U=u.indexOf(J)),-1!=U)return;if(-1!=J.indexOf("class")||-1!=J.indexOf("href")||-1!=J.indexOf("style"))return;for(;t.parent()&&(t=t.parent(),-1==(H=t.el.outerHTML).indexOf("class")&&-1==H.indexOf("href")&&-1==H.indexOf("style"))&&(J=t.el.outerHTML,-1==(U=u.indexOf(J))&&t.parent()&&1==t.parent().children().length);)prev=J;var i=[];i.push({InB:[f.indexOf(J),f.indexOf(J)+J.length]});var o,s,a,h,d,l=i.length;for(r=0;r<l;r++){for(o=i[r].InB[0],a=0;a<V.length;a++)if(V[a]>o){h=a;break}for(s=i[r].InB[1],a=0;a<V.length;a++)if(V[a]>s){d=a-1;break}var c=d-h+1;for(a=0;a<c;a++)X[z]=h,h++,z++}}};Q(q,F);var Z=this.nodeA,G=Z.children().length,K=[],Y=0,ee=function(e,t){if(0!=e){var n;for(n=0;n<e;n++)ee(t.children()[n].children().length,t.children()[n])}else{if(J=t.el.outerHTML,J?U=f.indexOf(J):(J=t.el.nodeValue,U=f.indexOf(J)),-1!=U)return;if(-1!=J.indexOf("class")||-1!=J.indexOf("href")||-1!=J.indexOf("style"))return;for(;t.parent()&&(t=t.parent(),-1==(H=t.el.outerHTML).indexOf("class")&&-1==H.indexOf("href")&&-1==H.indexOf("style"))&&(J=t.el.outerHTML,-1==(U=f.indexOf(J))&&t.parent()&&1==t.parent().children().length);)prev=J;var i=[];i.push({InA:[u.indexOf(J),u.indexOf(J)+J.length]});var o,s,a,h,d,l=i.length;for(r=0;r<l;r++){for(o=i[r].InA[0],a=0;a<$.length;a++)if($[a]>o){h=a;break}for(s=i[r].InA[1],a=0;a<$.length;a++)if($[a]>s){d=a-1;break}var c=d-h+1;for(a=0;a<c;a++)K[Y]=h,h++,Y++}}};ee(G,Z);var te=this.nodeA,ne=te.children().length,ie={},re={},oe=function(e,t){if(0!=e){var n;for(n=0;n<e;n++){var o=[];if(J=t.children()[n].el.outerHTML,1!=i(f,J).length)oe(t.children()[n].children().length,t.children()[n]);else{o.push({InA:[u.indexOf(J),u.indexOf(J)+J.length],InB:[f.indexOf(J),f.indexOf(J)+J.length]});var s,a,h,d,l,c,p=o.length;for(r=0;r<p;r++){for(s=o[r].InA[0],h=0;h<$.length;h++)if($[h]>s){d=h;break}for(a=o[r].InA[1],h=0;h<$.length;h++)if($[h]>a){l=h-1;break}for(s=o[r].InB[0],h=0;h<V.length;h++)if(V[h]>s){c=h;break}for(a=o[r].InB[1],h=0;h<V.length;h++)if(V[h]>a){h-1;break}var g=l-d+1;for(h=0;h<g;h++)ie[d]=c,re[c]=d,d++,c++}}}}};oe(ne,te);var se=/[^a-z0-9_ \r\n]+/gi,ae=/[^a-z0-9_ \r\n]+/gi,he=n.StringComparator.create({stringA:_,stringB:B,matchA:ie,matchB:re,couA:g,couB:x,ignoreA:K,ignoreB:X,splitOn:/[^a-z0-9_ \r\n]+/gi}).compare();console.log(he);var de,le,ce=0,ue=[];for(T=0;T<he.diffUnion.length;T++){var fe=he.diffUnion[T];if(fe.indexInA>=0&&(de=se.exec(_)?$[fe.indexInA]:_.length-fe.string.length),fe.indexInB>=0&&(le=ae.exec(B)?V[fe.indexInB]:B.length-fe.string.length),fe.indexInA>=0&&fe.indexInB>=0){if(!fe.string.length)continue;ue.push({rangeInA:[de,de+fe.string.length],rangeInB:[le,le+fe.string.length]}),fe.string.length>1&&(ce+=fe.string.length/B.length)}}if(ce>3/B.length)for(E.shift(),T=0;T<ue.length;T++){var pe=ue[T].rangeInA,ge=ue[T].rangeInB;if(!(pe[0]<0)){b=N.slice(0,S).join("\n").length,M=A.slice(0,I).join("\n").length,b=b.clamp(0),M=M.clamp(0),console.log(pe[0],ge[0]);for(var xe=n.DOMNodeStringPointer.create({haystack:ue[T].string}).allNodePointers(),me=0,Oe=xe.length;me<Oe;me++){var ve=1;pe[1]-pe[0]==1&&(ve=0);var Ne=n.DOMNodeStringPointer.create({index:b+pe[0]+xe[me].index+ve,haystack:u}),Ae=n.DOMNodeStringPointer.create({index:M+ge[0]+xe[me].index+ve,haystack:f}),ye=Ne.masterIndex(),Se=Ae.masterIndex();P[ye]=Se;var Ie=xe[me],we=Ne,be=Ae;console.log(ue[T].string,"--\x3e>",Ie.nodeName(),Ie.haystack.substr(Ie.index,5),"->",ye,we.nodeName(),we.haystack.substr(we.index,5),"->",Se,be.nodeName(),be.haystack.substr(be.index,5))}}}}return v=t(v).chain().invert().invert().value(),P=t(P).chain().invert().invert().value(),console.log("nodeMatchesCount:",t(v).keys().length),console.log("nodeMatches:",v),console.log("innerNodeMatchesCount:",t(P).keys().length),console.log("innerNodeMatches:",P),console.log("totalCount:",t(e.extend(v,P)).keys().length),this.matches=v,this.stringA=a,this.stringB=h,this}}}();var VWO=window.VWO||{};!function(){var e=window.vwo_$||window.$,t=window.vwo__||window._,n=window.VWOInjected||window.VWO||{};n.DOMNodeComparator=function(t){e.extend(!0,this,t)},n.DOMNodeComparator.create=function(e){return new n.DOMNodeComparator(e)},n.DOMNodeComparator.prototype={nodeA:null,nodeB:null,indexScore:function(){return Number(this.nodeA.masterIndex()===this.nodeB.masterIndex())},nodeTypeScore:function(){return Number(this.nodeA.nodeType()===this.nodeB.nodeType())},innerTextScore:function(){return Number(this.nodeA.innerText()===this.nodeB.innerText())},innerHTMLScore:function(){return Number(this.nodeA.innerHTML()===this.nodeB.innerHTML())},nodeNameScore:function(){return this.nodeTypeScore()?this.nodeA.nodeType()!==Node.ELEMENT_NODE?0:Number(this.nodeA.nodeName()===this.nodeB.nodeName()):0},parentScore:function(){return this.nodeA.parent()&&this.nodeB.parent()?.5+n.DOMNodeComparator.create({nodeA:this.nodeA.parent(),nodeB:this.nodeB.parent()}).parentScore()/2:0},nextSiblingScore:function(){return this.nodeA.nextSibling()&&!this.nodeB.nextSibling()?0:!this.nodeA.nextSibling()&&this.nodeB.nextSibling()?0:this.nodeA.nextSibling()||this.nodeB.nextSibling()?.5+n.DOMNodeComparator.create({nodeA:this.nodeA.nextSibling(),nodeB:this.nodeB.nextSibling()}).nextSiblingScore()/2:1},previousSiblingScore:function(){return this.nodeA.previousSibling()&&!this.nodeB.previousSibling()?0:!this.nodeA.previousSibling()&&this.nodeB.previousSibling()?0:this.nodeA.previousSibling()||this.nodeB.previousSibling()?.5+n.DOMNodeComparator.create({nodeA:this.nodeA.previousSibling(),nodeB:this.nodeB.previousSibling()}).previousSiblingScore()/2:1},siblingsScore:function(){return(this.nextSiblingScore()+this.previousSiblingScore())/2},adjacentElementsScore:function(){return(this.previousSiblingScore()+this.nextSiblingScore()+this.parentScore())/3},childrenScore:function(){if(this.nodeA.children().length&&!this.nodeB.children().length)return 0;if(!this.nodeA.children().length&&this.nodeB.children().length)return 0;if(!this.nodeA.children().length&&!this.nodeB.children().length)return 1;var e=0;return this.nodeA.children().forEach(function(t){e+=Number(Boolean(this.nodeB.children().filter(function(e){return e.nodeName()===t.nodeName()})[0]))}.bind(this)),e/this.nodeA.children().length},attributeScore:function(){if(!this.nodeNameScore())return 0;var e=this.nodeA,n=this.nodeB,i=t.keys(e.attributes()),r=t.keys(n.attributes()),o=t.union(r,i).length;return o?(o-t(this.addedAttributes()).keys().length-t(this.removedAttributes()).keys().length-t(this.changedAttributes()).keys().length)/o||0:1},addedAttributes:function(){if(!this.nodeNameScore())return{};var e=this.nodeA,n=this.nodeB,i=t.keys(e.attributes()),r=t.keys(n.attributes()),o=t.difference(r,i);return t.pick.apply(t,[n.attributes()].concat(o))},changedAttributes:function(){if(!this.nodeNameScore())return{};var e=this.nodeA,n=this.nodeB,i=e.attributes(),r=n.attributes(),o=t.keys(i),s=t.keys(r),a=t.intersection(s,o).filter(function(e){return i[e]!==r[e]});return t.pick.apply(t,[r].concat(a))},removedAttributes:function(){if(!this.nodeNameScore())return{};var e=this.nodeA,n=this.nodeB,i=t.keys(e.attributes()),r=t.keys(n.attributes()),o=t.difference(i,r);return t.pick.apply(t,[e.attributes()].concat(o))},styleScore:function(){if(!this.nodeNameScore())return 0;var e=this.nodeA,n=this.nodeB,i=t.keys(e.styles()),r=t.keys(n.styles()),o=t.union(r,i).length;return o?(o-t(this.addedStyles()).keys().length-t(this.removedStyles()).keys().length-t(this.changedStyles()).keys().length)/o||0:1},addedStyles:function(){if(!this.nodeNameScore())return{};var e=this.nodeA,n=this.nodeB,i=t.keys(e.styles()),r=t.keys(n.styles()),o=t.difference(r,i);return t.pick.apply(t,[n.styles()].concat(o))},changedStyles:function(){if(!this.nodeNameScore())return{};var e=this.nodeA,n=this.nodeB,i=e.styles(),r=n.styles(),o=t.keys(i),s=t.keys(r),a=t.intersection(s,o).filter(function(e){return i[e]!==r[e]});return t.pick.apply(t,[r].concat(a))},removedStyles:function(){if(!this.nodeNameScore())return{};var e=this.nodeA,n=this.nodeB,i=t.keys(e.styles()),r=t.keys(n.styles()),o=t.difference(i,r);return t.pick.apply(t,[e.styles()].concat(o))},newInnerText:function(){return!this.nodeTypeScore()||this.nodeA.nodeType()===Node.ELEMENT_NODE||this.innerTextScore()?null:this.nodeB.innerText()},finalScore:function(){var e=this.nodeA,t=this.nodeB;if(!e||!t)return 0;var n=this.indexScore(),i=this.nodeTypeScore(),r=this.nodeNameScore(),o=this.attributeScore(),s=this.styleScore(),a=this.innerHTMLScore(),h=this.innerTextScore();return i&&e.nodeType()===Node.TEXT_NODE?h?1:n?.9:0:r?"INPUT"===e.nodeName().toUpperCase()&&e.attributes().type!==t.attributes().type?0:a?(8+n+(2*o+s)/3)/10:(n+8*a+(2*o+s)/3)/10:0},difference:function(){return{addedAttributes:this.addedAttributes(),removedAttributes:this.removedAttributes(),changedAttributes:this.changedAttributes(),addedStyles:this.addedStyles(),removedStyles:this.removedStyles(),changedStyles:this.changedStyles(),newInnerText:this.newInnerText()}}}}();var VWO=window.VWO||{};!function(){var e=window.vwo_$||window.$,t=(window.vwo__||window._,window.VWOInjected||window.VWO||{});t.DOMNodeStringPointer=function(t){e.extend(!0,this,t)},t.DOMNodeStringPointer.create=function(e){return new t.DOMNodeStringPointer(e)},t.DOMNodeStringPointer.prototype={haystack:"",index:0,_pointerWithIndex:function(e){return t.DOMNodeStringPointer.create({haystack:this.haystack,index:e})},allNodePointers:function(){var e=[],t=this._pointerWithIndex(0);for(e.push(t);t=t.nextPointer();)e.push(t);return e},nodeType:function(){var e=this.index,t=this.haystack;return t.lastIndexOf("\x3c!--",e)>t.lastIndexOf("--\x3e",e)||"--\x3e"===t.substr(e,3)?Node.COMMENT_NODE:t.lastIndexOf("<![CDATA[",e)>t.lastIndexOf("]]>",e)||"]]>"===t.substr(e,3)?Node.CDATA_SECTION_NODE:t.lastIndexOf("<",e)>t.lastIndexOf(">",e)||">"===t.charAt(e)?Node.ELEMENT_NODE:Node.TEXT_NODE},nodeName:function(){var t=this.index,n=this.haystack,i=this.nodeType();if(i===Node.ELEMENT_NODE){var r=n.lastIndexOf("<",t)+1,o=n.indexOf(" ",r),s=n.indexOf(">",r),a=n.substring(r,Math.min(-1===o?s:o,-1===s?o:s));return"/"===a.charAt(0)&&(a=a.substr(1)),"DIV"===e("<div/>").get(0).nodeName&&(a=a.toUpperCase()),a}return i},pointsToClosingTag:function(){if(this.nodeType()!==Node.ELEMENT_NODE)return!1;var e=this.haystack.lastIndexOf("<",this.index);return"/"===this.haystack.charAt(e+1)},pointsToEmptyTag:function(){return/area|base|br|col|hr|img|input|link|meta|param/i.test(this.nodeName())},previousPointer:function(){var e,t,n=this.index,i=this.haystack,r=this.nodeType();return r===Node.TEXT_NODE?(e=i.lastIndexOf(">",n),t=this._pointerWithIndex(e)):r===Node.COMMENT_NODE?(e=i.lastIndexOf("\x3c!--",n),t=this._pointerWithIndex(e-1)):r===Node.CDATA_SECTION_NODE?(e=i.lastIndexOf("<![CDATA[",n),t=this._pointerWithIndex(e-1)):(e=i.lastIndexOf("<",n),t=this._pointerWithIndex(e-1)),t.index<0||t.index>=i.length?null:t},previousSiblingPointer:function(){var e,t,n=this.index,i=this.haystack,r=this.nodeType(),o=this.nodeName();if(r===Node.TEXT_NODE)e=i.lastIndexOf(">",n),t=this._pointerWithIndex(e);else if(r===Node.COMMENT_NODE)e=i.lastIndexOf("\x3c!--",n),t=this._pointerWithIndex(e-1);else if(r===Node.CDATA_SECTION_NODE)e=i.lastIndexOf("<![CDATA[",n),t=this._pointerWithIndex(e-1);else if(e=i.lastIndexOf("<",n),this.pointsToClosingTag()){for(var s=e+1,a=[],h=0;a&&(s=i.toLowerCase().lastIndexOf("<"+o.toLowerCase(),s-1),!(a=i.substring(s,e).match(new RegExp("<\\/"+o,"gi")))||h++!=a.length););t=this._pointerWithIndex(s-1)}else t=this._pointerWithIndex(e-1);return t.index<0?null:t.nodeType()!==Node.ELEMENT_NODE||t.pointsToEmptyTag()||"/"===i.charAt(i.lastIndexOf("<",t.index)+1)?t:null},nextPointer:function(){var e,t,n=this.index,i=this.haystack,r=this.nodeType();if(r===Node.TEXT_NODE)e=i.indexOf("<",n),t=this._pointerWithIndex(e);else if(r===Node.COMMENT_NODE){if(-1===(e=i.indexOf("--\x3e",n)))return null;t=this._pointerWithIndex(e+3)}else if(r===Node.CDATA_SECTION_NODE){if(-1===(e=i.indexOf("]]>",n)))return null;t=this._pointerWithIndex(e+3)}else{if(-1===(e=i.indexOf(">",n)))return null;t=this._pointerWithIndex(e+1)}return t.index<0||t.index>=i.length?null:t},nextSiblingPointer:function(){var e,t,n=this.index,i=this.haystack,r=this.nodeType(),o=this.nodeName();if(r===Node.TEXT_NODE)e=i.indexOf("<",n),t=this._pointerWithIndex(e);else if(r===Node.COMMENT_NODE){if(-1===(e=i.indexOf("--\x3e",n)))return null;t=this._pointerWithIndex(e+3)}else if(r===Node.CDATA_SECTION_NODE){if(-1===(e=i.indexOf("]]>",n)))return null;t=this._pointerWithIndex(e+3)}else{if(-1===(e=i.indexOf(">",n)))return null;if(this.pointsToClosingTag())t=this._pointerWithIndex(e+1);else{for(var s=e-1,a=[],h=0;a&&(s=i.toLowerCase().indexOf("</"+o.toLowerCase(),s+1),s=i.indexOf(">",s),!(a=i.substring(e,s).match(new RegExp("<"+o,"gi")))||h++!=a.length););t=this._pointerWithIndex(s+1)}}return t.index<0||t.index>=i.length?null:t.nodeType()!==Node.ELEMENT_NODE||!t.pointsToEmptyTag()&&"/"!==i.charAt(i.indexOf("<",t.index)+1)?t:null},parentPointer:function(){var e,t=this.index,n=this.haystack,i=this.nodeType(),r=this.nodeName(),o=this.previousSiblingPointer();if(o)return o.parentPointer();var s;if(i===Node.TEXT_NODE)e=n.lastIndexOf(">",t),s=this._pointerWithIndex(e);else if(i===Node.COMMENT_NODE)e=n.lastIndexOf("\x3c!--",t),s=this._pointerWithIndex(e-1);else if(i===Node.CDATA_SECTION_NODE)e=n.lastIndexOf("<![CDATA[",t),s=this._pointerWithIndex(e-1);else if(e=n.lastIndexOf("<",t),s=this._pointerWithIndex(e-1),"/"===n.charAt(e+1)){for(var a=e+1,h=[],d=0;h&&(a=n.toLowerCase().lastIndexOf("<"+r.toLowerCase(),a-1),!(h=n.substring(a,e).match(new RegExp("<\\/"+r,"gi")))||d++!=h.length););s=this._pointerWithIndex(a-1)}else s=this._pointerWithIndex(e-1);return s.index<0||s.index>=n.length?null:"/"===n.charAt(n.lastIndexOf("<",s.index)+1)?null:s},masterIndex:function(){for(var e=0,t=this;t=t.previousSiblingPointer();)e++;var n=this.parentPointer();return n?n.masterIndex()+":"+e:e.toString()}}}();var VWO=window.VWO||{};!function(){var e=window.vwo_$||window.$,t=window.vwo__||window._,n=window.VWOInjected||window.VWO||{};n.DOMNodePool={content:[],create:function(e){return this.content.filter(function(t){return t.el===e.el})[0]||n.DOMNode.create(e)},uncacheAll:function(){this.content.forEach(function(e){e.uncache()})},cacheAll:function(){this.content.forEach(function(e){e.cache()})},pushObject:function(e){return this.content.push(e)},clear:function(){this.content=[]}},n.DOMNode=function(t){e.extend(!0,this,t),n.DOMNodePool.pushObject(this),this.cache()},n.DOMNode.create=function(e){return new n.DOMNode(e)},n.DOMNode.prototype={ignoreWhitespace:!0,ignoreComments:!0,cache:function(){var e=["index","parent","previousSibling","previousElementSibling","nextSibling","nextElementSibling","adjacentElementNode","vwoMarker","nodeType","nodeName","innerText","innerHTML","outerHTML","attributes","styles","children","ancestors","descendants","masterIndex","selectorPath"];for(var t in e)e.hasOwnProperty(t)&&(this[e[t]]=this[e[t]].cache())},uncache:function(){var e=["index","parent","previousSibling","previousElementSibling","nextSibling","nextElementSibling","adjacentElementNode","vwoMarker","nodeType","nodeName","innerText","innerHTML","outerHTML","attributes","styles","children","ancestors","descendants","masterIndex","selectorPath"];for(var t in e)e.hasOwnProperty(t)&&"function"==typeof this[e[t]].uncache&&(this[e[t]]=this[e[t]].uncache())},index:function(){return this.parent()?this.parent().children().indexOf(this):0},parent:function(){return this.$().parent().length?n.DOMNodePool.create({el:this.$().parent().get(0)}):null},previousElementSibling:function(){return this.$().prev().get(0)?n.DOMNodePool.create({el:this.$().prev().get(0)}):null},previousSibling:function(){if(!this.el.previousSibling)return null;var e=n.DOMNodePool.create({el:this.el.previousSibling});return this.ignoreWhitespace&&this.el.previousSibling instanceof Text&&!this.el.previousSibling.textContent.trim()?e.previousSibling():this.ignoreComments&&this.el.previousSibling instanceof Comment?e.previousSibling():e},nextElementSibling:function(){return this.$().next().get(0)?n.DOMNodePool.create({el:this.$().next().get(0)}):null},nextSibling:function(){if(!this.el.nextSibling)return null;var e=n.DOMNodePool.create({el:this.el.nextSibling});return this.ignoreWhitespace&&this.el.nextSibling instanceof Text&&!this.el.nextSibling.textContent.trim()?e.nextSibling():this.ignoreComments&&this.el.nextSibling instanceof Comment?e.nextSibling():e},proximity:0,relationship:null,adjacentElementNode:function(){var e=this.$().adjacent();if(!e)return null;var t=n.DOMNodePool.create({el:e.get(0)});return t.relationship=e.relationship,t.proximity=e.proximity,t},el:null,vwoMarker:function(){return n.ElementMarkerStore.getMarkerForElement(this.el)},nodeType:function(){return this.el.nodeType},nodeName:function(){return this.el.nodeName},innerText:function(){var e=this.el;return e.innerText||e.textContent},innerHTML:function(){var e=this.el;return e.innerHTML||e.textContent},outerHTML:function(){var t=this.el;return t.outerHTML||e("<div></div>").append(e(t).clone(!0)).html()},attributes:function(){if(this.nodeType()!==Node.ELEMENT_NODE)return{};for(var e=this.el,t={},n=0;n<e.attributes.length;n++){var i=e.attributes[n];"style"!==i.name&&(t[i.name]=i.value)}return t},styles:function(){if(this.nodeType()!==Node.ELEMENT_NODE)return{};for(var e=this.el,t={},n=0;n<e.attributes.length;n++){var i=e.attributes[n];if("style"===i.name)for(var r=i.value.trim().split(";"),o=0;o<r.length;o++){var s=r[o].trim();s&&(t[(s=s.split(":"))[0].trim()]=s[1].trim())}}return t},children:function(){for(var e=[],t=this.el.firstChild;t;t=t.nextSibling)this.ignoreWhitespace&&t instanceof Text&&!t.textContent.trim()||this.ignoreComments&&t instanceof Comment||e.push(n.DOMNodePool.create({el:t,ignoreWhitespace:this.ignoreWhitespace,ignoreComments:this.ignoreComments}));return this._children=e},ancestors:function(){return this.parent()?[this.parent()].concat(this.parent().ancestors()):[]},descendants:function(){var t={},n=this.masterIndex(),i=this.children();t[n]=this;for(var r=0,o=i&&i.length;r<o;r++)e.extend(t,i[r].descendants());return t},masterIndex:function(){var e=this.parent(),t=e&&e.masterIndex();return null===t||void 0===t?this.index().toString():t+":"+this.index().toString()},selectorPath:function(){return e(this.el).selectorPath()},copy:function(){return n.DOMNode.create({el:e(this.el).clone().get(0)})},$:function(t,n){return arguments.length?(n=n||this.el,e(t,n)):e(this.el)},addChild:function(e){return this.addChildAt(e,this.children().length)},removeChild:function(e){var t=this.children().indexOf(e);if(t<0)throw new Error("removeChild: node is not a child of this node.");return this.removeChildAt(t)},addChildAt:function(e,t){if(e.ignoreWhitespace=this.ignoreWhitespace,e.ignoreComments=this.ignoreComments,t<0||t>this.children().length)throw new RangeError("addChildAt: index is out of bounds.");var i=this.children()[t];return i?i.$().before(e.$()):this.$().append(e.$()),n.DOMNodePool.uncacheAll(),n.DOMNodePool.cacheAll(),e},removeChildAt:function(e){var t=this.children()[e];if(!t)throw new RangeError("removeChildAt: index is out of bounds.");return t.$().remove(),n.DOMNodePool.uncacheAll(),n.DOMNodePool.cacheAll(),t},swapChildren:function(e,t){var n=this.children().indexOf(e),i=this.children().indexOf(t);if(n<0||n>this.children().length)throw new Error("swapChildren: nodeA is not a child of this node.");if(i<0||i>this.children().length)throw new Error("swapChildren: nodeB is not a child of this node.");this.swapChildrenAt(n,i)},swapChildrenAt:function(e,t){var n=this.children()[e],i=this.children()[t];if(!n)throw new RangeError("swapChildrenAt: indexA is out of bounds.");if(!i)throw new RangeError("swapChildrenAt: indexB is out of bounds.");var r=this.children();r[t]=n,r[e]=i;var o=n.el,s=i.el,a=o.nextSibling===s?o:o.nextSibling;s.parentNode.insertBefore(o,s),o.parentNode.insertBefore(s,a)},equals:function(e){if(e.nodeName()!==this.nodeName()||!t(e.attributes()).isEqual(this.attributes()))return!1;for(var n=0,i=this.children().length;n<i;n++){if(!e.children()[n])return!1;if(!e.children()[n].equals(this.children()[n]))return!1}return!0},isWhitespace:function(){return this.isText()&&!this.innerText().trim()},isComment:function(){return this.nodeType()===Node.COMMENT_NODE},isText:function(){return this.nodeType()===Node.TEXT_NODE},matchedWith:null,matchScore:null,matchDifference:null,isInserted:!1}}();var VWO=window.VWO||{};!function(){var e=window.vwo_$||window.$,t=(window.vwo__||window._,window.VWOInjected||window.VWO||{});t.StringComparator=function(t){e.extend(!0,this,t)},t.StringComparator.create=function(e){return new t.StringComparator(e)},t.StringComparisonResult=function(e,t,n){this.indexInA=t,this.indexInB=n,this.string=e},t.StringComparator.prototype={stringA:null,stringB:null,splitOn:null,stringsInA:[],stringsInB:[],stringsAddedInB:[],stringsDeletedFromA:[],stringsUnchanged:[],diffUnion:[],compare:function(){this.stringsInA=[],this.stringsInB=[],this.stringsAddedInB=[],this.stringsDeletedFromA=[],this.stringsUnchanged=[],this.diffUnion=[];var e,n,i,r,o={from:null,to:null,next:null,prev:null},s=this.stringA,a=this.stringB,h={},d={},l=this.matchA,c=this.matchB,u=s.split(this.splitOn),f=a.split(this.splitOn);this.stringsInA=u,this.stringsInB=f;var p=this.ignoreA,g=this.ignoreB;for(e=0,n=u.length;e<n;e++)if(l[e])o.from=e,o.to=l[e],o.next={},o.next.prev=o,o=o.next;else if(-1==p.indexOf(e))for(i=0,r=f.length;i<r;i++)if(u[e]===f[i]){if("number"==typeof d[i]||"number"==typeof c[i])continue;if(-1!=g.indexOf(i))continue;var x=o.prev;if(x&&x.to>i)continue;o.from=e,o.to=i,o.next={},o.next.prev=o,o=o.next,h[e]=i,d[i]=e;break}var m,O,v={},N={};for(m=0,lA=this.couA;m<lA+1;m++)"number"==typeof h[m]&&(v[m]=h[m]),"number"==typeof l[m]&&(v[m]=l[m]);for(O=0,lB=this.couB;O<lB+1;O++)"number"==typeof d[O]&&(N[O]=d[O]),"number"==typeof c[O]&&(N[O]=c[O]);var A=-1;for(e=0,n=u.length;e<n;e++){for(i=A+1,r=f.length;void 0===N[i]&&i<r;i++)this.stringsAddedInB.push(new t.StringComparisonResult(f[i],-1,i)),this.diffUnion.push(this.stringsAddedInB[this.stringsAddedInB.length-1]),A=i;"number"==typeof v[e]?(this.stringsUnchanged.push(new t.StringComparisonResult(u[e],e,v[e])),this.diffUnion.push(this.stringsUnchanged[this.stringsUnchanged.length-1]),A=v[e]):void 0===v[e]&&(this.stringsDeletedFromA.push(new t.StringComparisonResult(u[e],e,-1)),this.diffUnion.push(this.stringsDeletedFromA[this.stringsDeletedFromA.length-1]))}return this}}}();var VWO=window.VWO||{};!function(){window.VWOInjected||window.VWO;var e=jQuery.fn;Function.prototype.cache=function(){var e,t=this,n=function(){return void 0!==e?e:e=t.apply(this,Array.prototype.slice.call(arguments))};return n.uncache=function(){return t},n},String.prototype.trim=function(){return this.rtrim().ltrim()},String.prototype.ltrim=function(){return this.replace(/^[ \r\n]*/,"")},String.prototype.rtrim=function(){return this.replace(/[ \n\r]*$/,"")},String.prototype.nthIndexOf=function(e,t){for(var n=this.indexOf(e,0);t-- >0&&-1!==n;)n=this.indexOf(e,n+1);return n};String.prototype.lpad=function(e,t){return this.pad(e,t,1)},String.prototype.rpad=function(e,t){return this.pad(e,t,2)},String.prototype.pad=function(e,t,n){var i=this;if(void 0===e&&(e=0),void 0===t&&(t=" "),void 0===n&&(n=2),e+1>=i.length)switch(n){case 1:i=new Array(e+1-i.length).join(t)+i;break;case 3:var r=e-i.length,o=Math.ceil(r/2),s=r-o;i=new Array(s+1).join(t)+i+new Array(o+1).join(t);break;default:i+=new Array(e+1-i.length).join(t)}return i},Number.prototype.clamp=function(e,t){return"number"!=typeof e&&(e=-1/0),"number"!=typeof t&&(t=1/0),Math.max(e,Math.min(t,this))},Number.prototype.isWithinRange=function(e,t){return this>e&&this<t},e.nodeName=function(){var e=this.get(0);return e?e.nodeName&&e.nodeName.toUpperCase():null},e.selectorPath=function(){if(!this.length)return"";if(this.nodeName().match(/^(body|head)$/i))return this.nodeName();if(this.get(0).nodeType!==Node.ELEMENT_NODE)return"";var e=this.nodeName();if(e.match(/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/)[0]!==e&&(e="*"),this.attr("id")){var t=this.attr("id");"string"!=typeof t&&(t=this.get(0).getAttribute(t)),"string"==typeof t&&$(e+"#"+t).length<=1&&(e+="#"+(t=t.replace(/(:|\.)/g,"\\$1")))}return this.prev().length?this.prev().selectorPath()+" + "+e:this.parent().length?this.parent().selectorPath()+" > "+e+":first-child":e},e.existsInDOM=function(){return this.parents("html").length>0},e.isAncestorOf=function(e){return $(e).parents().is(this)},e.isDescendantOf=function(e){return $(e).isAncestorOf(this)},e.outerHTML=function(){var e,t=$(this);return t[0]&&"outerHTML"in t[0]?(e="",t.each(function(t){e+=this.outerHTML}),e):(e=t.wrap("<div></div>").parent().html(),t.unwrap(),e)}}();