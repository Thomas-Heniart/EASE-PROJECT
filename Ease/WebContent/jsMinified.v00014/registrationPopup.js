var signUpPopup=function(s){var o=this;this.handler=$(s).closest(".popupHandler"),this.qRoot=$(s),this.openRegistration=function(){o.qRoot.find("#2").addClass("show"),o.qRoot.find("#1").removeClass("show"),o.handler.addClass("myshow"),$("body").css("overflow","hidden")},this.open=function(){o.handler.addClass("myshow"),$("body").css("overflow","hidden")},this.close=function(){o.handler.removeClass("myshow"),$("body").css("overflow","")},this.reset=function(){o.qRoot.find("#1").addClass("show"),o.qRoot.find("#2").removeClass("show"),o.qRoot.find(".alert-message").removeClass("show"),o.qRoot.find("button").removeClass("not-show")},$(document).click(function(s){$(s.target).hasClass("popupHandler")&&(o.close(),o.reset(),setTimeout(function(){$(s.target).css("display","")},100))}),this.qRoot.find("#1 form").submit(function(s){s.preventDefault(),easeTracker.trackEvent("HomepageSignUp1");var a=$(this).find("input[name='email']").val(),n=$(this).find("input[name='name']").val(),e=$(this).find(".loading"),t=$(this).find(".submitButton"),i=$(this).find(".alert-message");a.length&&n.length&&(e.addClass("show"),t.addClass("not-show"),postHandler.post($(this).attr("action"),{email:a,name:n},function(){e.removeClass("show")},function(s){i.text(s.substring(2,s.length)),i.css("color","#24d666"),i.addClass("show"),"1"==s[0]?setTimeout(function(){i.removeClass("show"),t.removeClass("not-show")},7e3):"2"==s[0]&&(o.qRoot.find("#2 input[name='fname']").val(n),o.qRoot.find("#2 input[name='email']").val(a),o.openRegistration())},function(s){i.text(s),i.css("color","#ec555b"),i.addClass("show"),setTimeout(function(){i.removeClass("show"),t.removeClass("not-show")},3e3)},"text"))}),this.qRoot.find("#2 form").submit(function(s){s.preventDefault();$(this);var o=$(this).find("input[name='fname']").val(),a=$(this).find("input[name='email']").val(),n=$(this).find("input[name='invitationCode']").val(),e=$(this).find("input[name='password']").val(),t=$(this).find("input[name='confirmPassword']").val(),i=$(this).find(".loading"),r=$(this).find(".submitButton"),d=$(this).find(".alert-message");o.length&&a.length&&e==t&&(i.addClass("show"),r.addClass("not-show"),postHandler.post($(this).attr("action"),{email:a,fname:o,invitationCode:n,password:e,confirmPassword:t,lname:"unknown"},function(){i.removeClass("show")},function(s){d.text(s),d.css("color","#24d666"),d.addClass("show"),easeTracker.setUserId(a),easeTracker.trackEvent("HomepageSignUp2"),easeTracker.trackEvent("Connect"),setTimeout(function(){window.location="/"},750)},function(s){d.text(s),d.css("color","#ec555b"),d.addClass("show"),setTimeout(function(){d.removeClass("show"),r.removeClass("not-show")},3e3)},"text"))}),$("input[name='password']").keyup(function(s){$("#validatorPassword").css("display","inline-block"),$("input[name='password']").val().length<8?$("#validatorPassword").removeClass("valid"):$("#validatorPassword").addClass("valid"),$("input[name='password']").val().length<8||$("input[name='confirmPassword']").val()!=$("input[name='password']").val()?$("#validatorConfirmPass").removeClass("valid"):$("#validatorConfirmPass").addClass("valid")}),$("input[name='confirmPassword']").keyup(function(s){$("#validatorConfirmPass").css("display","inline-block"),$("input[name='password']").val().length<8||$("input[name='confirmPassword']").val()!=$("input[name='password']").val()?$("#validatorConfirmPass").removeClass("valid"):$("#validatorConfirmPass").addClass("valid")}),$("#2 input[name='password']").complexify({strengthScaleFactor:.7},function(s,o){$(".progress .progress-bar").css("width",o+"%"),o<20?$(".progress .progress-bar").css("background-color","#e4543b"):o<40?$(".progress .progress-bar").css("background-color","#e07333"):o<60?$(".progress .progress-bar").css("background-color","#ead94a"):o<80?$(".progress .progress-bar").css("background-color","#ddf159"):$(".progress .progress-bar").css("background-color","#b0df33")})},easeSignUpPopup=null;$(document).ready(function(){easeSignUpPopup=new signUpPopup($("#signUpPopup"))});