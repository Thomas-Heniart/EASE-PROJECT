{"version":3,"sources":["../source/flat.js"],"names":["styler","is_pseudo_class","is_media_query","is_object","strings","values","style","apply","concat","move_up","object","upside","new_name","prefix","key","child_object"],"mappings":";;AAAA,OAAOA,MAAP,IAAiBC,eAAjB,EAAkCC,cAAlC,QAAwD,SAAxD;AACA,SAASC,SAAT,QAA0B,WAA1B;;AAEA;AACA;AACA;AACA;AACA,eAAe,UAASC,OAAT,EACf;AAAA,mCADoCC,MACpC;AADoCA,QACpC;AAAA;;AACC,KAAMC,QAAQN,OAAOO,KAAP,CAAa,IAAb,EAAmB,CAACH,OAAD,EAAUI,MAAV,CAAiBH,MAAjB,CAAnB,CAAd;;AAEAI,SAAQH,KAAR;;AAEA,QAAOA,KAAP;AACA;;AAED;AACA;AACA,SAASG,OAAT,CAAiBC,MAAjB,EAAyBC,MAAzB,EAAiCC,QAAjC,EACA;AACC,KAAIC,eAAJ;;AAEA,KAAIF,MAAJ,EACA;AACCA,SAAOC,QAAP,IAAmBF,MAAnB;AACAG,WAAYD,QAAZ;AACA,EAJD,MAMA;AACCD,WAASD,MAAT;AACAG,WAAS,EAAT;AACA;;AAZF;AAAA;AAAA;;AAAA;AAcC,oCAAgB,aAAYH,MAAZ,CAAhB,4GACA;AAAA,OADSI,GACT;;AACC,OAAMC,eAAeL,OAAOI,GAAP,CAArB;;AAEA,OAAIX,UAAUY,YAAV,KAA2B,CAACd,gBAAgBa,GAAhB,CAA5B,IAAoD,CAACZ,eAAeY,GAAf,CAAzD,EACA;AACC,WAAOJ,OAAOI,GAAP,CAAP;AACAL,YAAQM,YAAR,EAAsBJ,MAAtB,OAAiCE,MAAjC,GAA0CC,GAA1C;AACA;AACD;AAvBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBC","file":"flat.js","sourcesContent":["import styler, { is_pseudo_class, is_media_query } from './index'\r\nimport { is_object } from './helpers'\r\n\r\n// for Radium it flattens the style class hierarchy:\r\n// moves nested style classes to the top of the naming tree\r\n// while prefixing them accordingly\r\n// (except modifiers and media queries)\r\nexport default function(strings, ...values)\r\n{\r\n\tconst style = styler.apply(this, [strings].concat(values))\r\n\r\n\tmove_up(style)\r\n\r\n\treturn style\r\n}\r\n\r\n// moves child style classes to the surface of the style class tree\r\n// prefixing them accordingly\r\nfunction move_up(object, upside, new_name)\r\n{\r\n\tlet prefix\r\n\r\n\tif (upside)\r\n\t{\r\n\t\tupside[new_name] = object\r\n\t\tprefix = `${new_name}_`\r\n\t}\r\n\telse\r\n\t{\r\n\t\tupside = object\r\n\t\tprefix = ''\r\n\t}\r\n\r\n\tfor (let key of Object.keys(object))\r\n\t{\r\n\t\tconst child_object = object[key]\r\n\r\n\t\tif (is_object(child_object) && !is_pseudo_class(key) && !is_media_query(key))\r\n\t\t{\r\n\t\t\tdelete object[key]\r\n\t\t\tmove_up(child_object, upside, `${prefix}${key}`)\r\n\t\t}\r\n\t}\r\n}"]}